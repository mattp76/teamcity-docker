<?xml version="1.0" encoding="UTF-8"?>
<build-type xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" uuid="7dbba32c-f4a6-430e-baaa-af22a2377efe" xsi:noNamespaceSchemaLocation="http://www.jetbrains.com/teamcity/schemas/10.0/project-config.xsd">
  <name>Package and Deploy</name>
  <description />
  <settings>
    <parameters>
      <param name="system.Configuration" value="Stage" />
      <param name="system.IisSiteName" value="https://au.volkswagen.tribalstage.com/book-service-tc" />
      <param name="system.UserName" value="msdeploy-book-service" />
    </parameters>
    <build-runners>
      <runner id="RUNNER_1" name="Restore VWHelper Packages" type="jb.nuget.installer">
        <parameters>
          <param name="nuget.path" value="%teamcity.tool.NuGet.CommandLine.DEFAULT%" />
          <param name="nuget.updatePackages.mode" value="sln" />
          <param name="nuget.use.restore" value="restore" />
          <param name="sln.path" value="volkswagenhelper/VolkswagenHelper.sln" />
          <param name="teamcity.step.mode" value="default" />
        </parameters>
      </runner>
      <runner id="RUNNER_2" name="Restore BookService Packages" type="jb.nuget.installer">
        <parameters>
          <param name="nuget.path" value="%teamcity.tool.NuGet.CommandLine.DEFAULT%" />
          <param name="nuget.updatePackages.mode" value="sln" />
          <param name="nuget.use.restore" value="restore" />
          <param name="sln.path" value="vw-book-service/api/bookaservice.sln" />
          <param name="teamcity.step.mode" value="default" />
        </parameters>
      </runner>
      <runner id="RUNNER_3" name="Building VWHelper" type="MSBuild">
        <parameters>
          <param name="build-file-path" value="volkswagenhelper/VolkswagenHelper.sln" />
          <param name="dotNetCoverage.NCover.HTMLReport.File.Sort" value="0" />
          <param name="dotNetCoverage.NCover.HTMLReport.File.Type" value="1" />
          <param name="dotNetCoverage.NCover.platformBitness" value="x86" />
          <param name="dotNetCoverage.NCover.platformVersion" value="v2.0" />
          <param name="dotNetCoverage.NCover3.args" value="//ias .*" />
          <param name="dotNetCoverage.NCover3.platformBitness" value="x86" />
          <param name="dotNetCoverage.NCover3.platformVersion" value="v2.0" />
          <param name="dotNetCoverage.NCover3.reporter.executable.args" value="//or FullCoverageReport:Html:{teamcity.report.path}" />
          <param name="dotNetCoverage.PartCover.includes" value="[*]*" />
          <param name="dotNetCoverage.PartCover.platformBitness" value="x86" />
          <param name="dotNetCoverage.PartCover.platformVersion" value="v2.0" />
          <param name="dotNetCoverage.dotCover.home.path" value="%teamcity.tool.JetBrains.dotCover.CommandLineTools.DEFAULT%" />
          <param name="msbuild_version" value="4.0" />
          <param name="run-platform" value="x64" />
          <param name="runnerArgs" value="/m /p:Platform=&quot;Any CPU&quot;" />
          <param name="teamcity.step.mode" value="default" />
          <param name="toolsVersion" value="4.0" />
        </parameters>
      </runner>
      <runner id="RUNNER_4" name="Building VW-Book-Service" type="MSBuild">
        <parameters>
          <param name="build-file-path" value="vw-book-service/api/bookaservice.sln" />
          <param name="dotNetCoverage.NCover.HTMLReport.File.Sort" value="0" />
          <param name="dotNetCoverage.NCover.HTMLReport.File.Type" value="1" />
          <param name="dotNetCoverage.NCover.platformBitness" value="x86" />
          <param name="dotNetCoverage.NCover.platformVersion" value="v2.0" />
          <param name="dotNetCoverage.NCover3.args" value="//ias .*" />
          <param name="dotNetCoverage.NCover3.platformBitness" value="x86" />
          <param name="dotNetCoverage.NCover3.platformVersion" value="v2.0" />
          <param name="dotNetCoverage.NCover3.reporter.executable.args" value="//or FullCoverageReport:Html:{teamcity.report.path}" />
          <param name="dotNetCoverage.PartCover.includes" value="[*]*" />
          <param name="dotNetCoverage.PartCover.platformBitness" value="x86" />
          <param name="dotNetCoverage.PartCover.platformVersion" value="v2.0" />
          <param name="dotNetCoverage.dotCover.home.path" value="%teamcity.tool.JetBrains.dotCover.CommandLineTools.DEFAULT%" />
          <param name="msbuild_version" value="4.0" />
          <param name="run-platform" value="x64" />
          <param name="runnerArgs"><![CDATA[/p:PublishProfile=%system.Configuration% 
/p:OutputPath=bin\ 
/P:Configuration=%system.Configuration% 
/T:Package 
/P:DeployIisAppPath=%system.IisSiteName%]]></param>
          <param name="targets" value="Package" />
          <param name="teamcity.step.mode" value="default" />
          <param name="toolsVersion" value="4.0" />
        </parameters>
      </runner>
      <runner id="RUNNER_5" name="Deploy Web Server" type="simpleRunner">
        <parameters>
          <param name="script.content" value="Elle.WebApp.csproj.deploy.cmd -allowUntrusted /Y &quot;/M:%system.EC2-A03-0004%?site=%system.IisSiteName%&quot; /U:%system.UserName% /P:%system.Password% /A:Basic -enableRule:DoNotDeleteRule &quot;-skip:Directory=\\Umbraco_client&quot; &quot;-skip:Directory=\\App_Data&quot; &quot;-skip:File=\\robots.txt&quot;" />
          <param name="teamcity.step.mode" value="default" />
          <param name="use.custom.script" value="true" />
        </parameters>
      </runner>
    </build-runners>
    <vcs-settings>
      <vcs-entry-ref root-id="VolkswagenApiSites_StageDeployForVwBookservice_VolkswagenHelper">
        <checkout-rule rule="+:.=&gt;volkswagenhelper" />
      </vcs-entry-ref>
      <vcs-entry-ref root-id="VolkswagenApiSites_StageDeployForVwBookservice_VwBookServiceApi">
        <checkout-rule rule="+:.=&gt;vw-book-service" />
      </vcs-entry-ref>
    </vcs-settings>
    <requirements />
    <build-triggers />
    <cleanup />
  </settings>
</build-type>

